<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ranking de los mejores rescatadores de Patitos en Peligro">
    <title>Top 10 - Patitos en Peligro</title>
    <link rel="icon" type="image/x-icon" href="ico_circulo.ico">
    
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/pages.css"> </head>
<body>
    
    <header class="header">
        <div class="container header-container">
            <div class="logo-container">
                <img src="patitologo1_circulo.png" alt="Logo" class="logo">
                <div class="logo-text">Patitos en Peligro</div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Inicio</a></li>
                    <li><a href="agradecimientos.html" class="nav-link">Agradecimientos</a></li>
                    <li><a href="mapa.html" class="nav-link">Mapa</a></li>
                    <li><a href="ranking.html" class="nav-link active">Ranking</a></li>
                    <li><a href="iniciarSesion.html" class="btn btn-secondary">Iniciar Sesi√≥n</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="ranking-hero">
        <div class="ranking-hero-content">
            <h1 class="ranking-hero-title">üèÜ Sal√≥n de la Fama</h1>
            <p class="ranking-hero-subtitle">Los h√©roes que han salvado m√°s patitos este semestre</p>
        </div>
        
        <div class="wave-divider">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
    </section>

    <main class="main-content ranking-main">
        <div class="container">
            
            <div class="ranking-description">
                <p>Clasificaci√≥n actualizada en tiempo real. ¬°Rescata patitos en el campus para subir de posici√≥n!</p>
            </div>

            <div class="ranking-filters">
                <button class="ranking-filter active" data-filter="global">
                    <span>üåç</span> Global
                </button>
                <button class="ranking-filter" data-filter="weekly">
                    <span>üìÖ</span> Semanal
                </button>
                <button class="ranking-filter" data-filter="monthly">
                    <span>üóìÔ∏è</span> Mensual
                </button>
            </div>

            <div class="ranking-podium">
                <div class="podium-place podium-place--2nd">
                    <div class="podium-avatar">GS</div>
                    <div class="podium-name">GreenSavior</div>
                    <div class="podium-score">128 Patitos</div>
                    <div class="podium-number">2</div>
                </div>
                
                <div class="podium-place podium-place--1st">
                    <div class="podium-avatar">EW</div>
                    <div class="podium-name">EcoWarrior42</div>
                    <div class="podium-score">142 Patitos</div>
                    <div class="podium-number">1</div>
                </div>
                
                <div class="podium-place podium-place--3rd">
                    <div class="podium-avatar">CH</div>
                    <div class="podium-name">ClimateHero</div>
                    <div class="podium-score">119 Patitos</div>
                    <div class="podium-number">3</div>
                </div>
            </div>

            <div class="ranking-table-container">
                <table class="ranking-table" aria-label="Top 10 de rescatadores">
                    <thead>
                        <tr>
                            <th scope="col" style="text-align:center;">#</th>
                            <th scope="col">Rescatador</th>
                            <th scope="col" style="text-align:center;">Puntuaci√≥n</th>
                        </tr>
                    </thead>
                    <tbody id="ranking-body">
                        </tbody>
                </table>
            </div>

            <div class="button-container" style="text-align: center; margin-top: 3rem;">
                <a href="index.html" class="btn btn-secondary">‚Üê Volver</a>
                <a href="mapa.html" class="btn btn-primary">Ir a Rescatar ü¶Ü</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container footer-content">
            <img src="patitologo1_circulo.png" alt="Logo" class="footer-logo">
            <div class="footer-links">
                <a href="index.html" class="footer-link">Inicio</a>
                <a href="mapa.html" class="footer-link">Mapa</a>
                <a href="ranking.html" class="footer-link">Ranking</a>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Patitos en Peligro - Universidad de Alicante</p>
            </div>
        </div>
    </footer>

    <script>
        const rankingData = {
            global: [
                { position: 1, name: "EcoWarrior42", avatar: "EW", ducks: 142, isCurrentUser: false },
                { position: 2, name: "GreenSavior", avatar: "GS", ducks: 128, isCurrentUser: false },
                { position: 3, name: "ClimateHero", avatar: "CH", ducks: 119, isCurrentUser: false },
                { position: 4, name: "PatitoProtector", avatar: "PP", ducks: 105, isCurrentUser: true },
                { position: 5, name: "EcoExplorer", avatar: "EE", ducks: 98, isCurrentUser: false },
                { position: 6, name: "NatureLover", avatar: "NL", ducks: 92, isCurrentUser: false },
                { position: 7, name: "PlanetGuardian", avatar: "PG", ducks: 87, isCurrentUser: false },
                { position: 8, name: "SustGamer", avatar: "SG", ducks: 83, isCurrentUser: false },
                { position: 9, name: "EcoAdv", avatar: "EA", ducks: 79, isCurrentUser: false },
                { position: 10, name: "GreenGamer", avatar: "GG", ducks: 75, isCurrentUser: false }
            ],
            weekly: [
                { position: 1, name: "PatitoProtector", avatar: "PP", ducks: 25, isCurrentUser: true },
                { position: 2, name: "EcoWarrior42", avatar: "EW", ducks: 22, isCurrentUser: false },
                { position: 3, name: "GreenSavior", avatar: "GS", ducks: 20, isCurrentUser: false }
            ],
            monthly: [
                { position: 1, name: "EcoWarrior42", avatar: "EW", ducks: 52, isCurrentUser: false },
                { position: 2, name: "GreenSavior", avatar: "GS", ducks: 48, isCurrentUser: false },
                { position: 3, name: "PatitoProtector", avatar: "PP", ducks: 45, isCurrentUser: true }
            ]
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar botones de filtro
            const filters = document.querySelectorAll('.ranking-filter');
            filters.forEach(filter => {
                filter.addEventListener('click', function() {
                    filters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    updateRanking(this.dataset.filter);
                });
            });
            updateRanking('global');
        });

        function updateRanking(filterType) {
            const data = rankingData[filterType] || rankingData['global'];
            const tbody = document.getElementById('ranking-body');
            tbody.innerHTML = '';
            
            // Render Tabla
            data.forEach(player => {
                const row = document.createElement('tr');
                if (player.isCurrentUser) row.classList.add('current-user');
                
                row.innerHTML = `
                    <td class="position-cell position-${player.position}">${player.position}</td>
                    <td class="player-cell">
                        <div class="player-avatar-small">${player.avatar}</div>
                        <span class="player-name">${player.name}</span>
                    </td>
                    <td>
                        <div class="ducks-cell">
                            <span class="ducks-icon">ü¶Ü</span>
                            <span>${player.ducks}</span>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Actualizar P√≥dium (Visual)
            const top3 = data.filter(p => p.position <= 3);
            if(top3.length >= 3) {
                updatePodiumPlace(0, top3.find(p => p.position === 2)); // 2nd (Left HTML element)
                updatePodiumPlace(1, top3.find(p => p.position === 1)); // 1st (Center HTML element)
                updatePodiumPlace(2, top3.find(p => p.position === 3)); // 3rd (Right HTML element)
            }
        }

        function updatePodiumPlace(index, player) {
            const podiums = document.querySelectorAll('.podium-place');
            if(podiums[index] && player) {
                podiums[index].querySelector('.podium-name').textContent = player.name;
                podiums[index].querySelector('.podium-score').textContent = player.ducks + ' Patitos';
                podiums[index].querySelector('.podium-avatar').textContent = player.avatar;
            }
        }
    </script>
</body>
</html>
