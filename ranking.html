<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ranking de los mejores rescatadores de Patitos en Peligro">
    <title>Top 10 - Patitos en Peligro</title>
    <link rel="icon" type="image/x-icon" href="ico_circulo.ico">
    
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/pages.css">
    
    <style>
        /* Estilos espec√≠ficos para el ranking */
        .ranking-hero {
            background: linear-gradient(135deg, 
                rgba(2, 119, 189, 0.9) 0%, 
                rgba(74, 179, 244, 0.8) 50%, 
                rgba(179, 229, 252, 0.7) 100%),
                url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            text-align: center;
            padding: 5rem 2rem;
            position: relative;
            overflow: hidden;
            margin-bottom: var(--spacing-xl);
        }

        .ranking-hero-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .ranking-hero-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: var(--spacing-sm);
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
            color: var(--white);
            animation: fadeInUp 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.2s both;
        }

        .ranking-hero-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: var(--spacing-lg);
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.3);
            opacity: 0;
            animation: fadeInUp 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s both;
        }

        .ranking-main {
            padding: var(--spacing-xl) 0;
        }

        .ranking-description {
            text-align: center;
            max-width: 600px;
            margin: 0 auto var(--spacing-xl);
            font-size: 1.1rem;
            color: var(--text-color);
            opacity: 0.9;
        }

        /* Podium styles */
        .ranking-podium-container {
            margin: var(--spacing-xl) 0;
        }

        .ranking-podium {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: var(--spacing-lg);
            margin: 0 auto;
            max-width: 900px;
            padding: var(--spacing-xl) var(--spacing-lg);
            background: linear-gradient(135deg, var(--white) 0%, var(--very-light-blue) 100%);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
        }

        .podium-place {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            background: var(--white);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .podium-place:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .podium-place--1st {
            order: 2;
            height: 280px;
            border-top: 6px solid var(--gold);
            margin-bottom: 0;
        }

        .podium-place--2nd {
            order: 1;
            height: 240px;
            border-top: 6px solid var(--silver);
            margin-bottom: 40px;
        }

        .podium-place--3rd {
            order: 3;
            height: 220px;
            border-top: 6px solid var(--bronze);
            margin-bottom: 60px;
        }

        .podium-avatar {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--white);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow);
        }

        .podium-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: var(--spacing-xs);
            text-align: center;
        }

        .podium-score {
            font-size: 1.1rem;
            color: var(--text-color);
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
        }

        .podium-number {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: var(--shadow);
        }

        /* Ranking table styles */
        .ranking-table-container {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow);
            margin: var(--spacing-xl) 0;
            overflow-x: auto;
        }

        /* User highlight */
        .current-user {
            background: linear-gradient(135deg, rgba(74, 179, 244, 0.1) 0%, rgba(74, 179, 244, 0.05) 100%);
            border-left: 4px solid var(--secondary-color);
        }

        .current-user:hover {
            background: linear-gradient(135deg, rgba(74, 179, 244, 0.15) 0%, rgba(74, 179, 244, 0.1) 100%);
        }

        /* Player cells */
        .player-cell {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .player-avatar-small {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--white);
            font-size: 0.9rem;
        }

        .player-name {
            font-weight: 600;
            color: var(--text-color);
        }

        .ducks-cell {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
            font-weight: 600;
            color: var(--primary-color);
        }

        .ducks-icon {
            font-size: 1.2rem;
        }

        .reward-icon {
            margin-left: auto;
            font-size: 1.5rem;
        }

        .reward-icon--1st { color: var(--gold); }
        .reward-icon--2nd { color: var(--silver); }
        .reward-icon--3rd { color: var(--bronze); }

        /* Position cells */
        .position-1 { color: var(--gold); }
        .position-2 { color: var(--silver); }
        .position-3 { color: var(--bronze); }

        /* Responsive podium */
        @media (max-width: 768px) {
            .ranking-podium {
                flex-direction: column;
                align-items: center;
                gap: var(--spacing-md);
                padding: var(--spacing-lg);
            }

            .podium-place {
                width: 100%;
                max-width: 300px;
                height: auto !important;
                margin-bottom: var(--spacing-md) !important;
            }

            .podium-place--1st,
            .podium-place--2nd,
            .podium-place--3rd {
                order: 0;
            }
        }

        @media (max-width: 480px) {
            .ranking-hero {
                padding: 3rem 1rem;
            }

            .ranking-hero-title {
                font-size: 2.5rem;
            }

            .ranking-podium {
                padding: var(--spacing-md);
            }
        }
    </style>
</head>
<body>
    
    <header class="header">
        <div class="container header-container">
            <div class="logo-container">
                <img src="patitologo1_circulo.png" alt="Logo Patitos en Peligro" class="logo">
                <div class="logo-text">Patitos en Peligro</div>
            </div>
            <button class="menu-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Inicio</a></li>
                    <li><a href="agradecimientos.html" class="nav-link">Agradecimientos</a></li>
                    <li><a href="mapa.html" class="nav-link">Mapa</a></li>
                    <li><a href="ranking.html" class="nav-link active">Ranking</a></li>
                    <li><a href="iniciarSesion.html" class="btn btn--secondary">Iniciar Sesi√≥n</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="ranking-hero particle-bg">
        <div class="container">
            <div class="ranking-hero-content">
                <h1 class="ranking-hero-title">üèÜ Sal√≥n de la Fama</h1>
                <p class="ranking-hero-subtitle">Los h√©roes que han salvado m√°s patitos este semestre</p>
            </div>
        </div>
    </section>

    <main class="main-content ranking-main">
        <div class="container">
            
            <div class="ranking-description fade-in-scroll">
                <p>Clasificaci√≥n actualizada en tiempo real. ¬°Rescata patitos en el campus para subir de posici√≥n!</p>
            </div>

            <div class="ranking-filters fade-in-scroll">
                <button class="filter-btn active" data-filter="global">
                    üåç Global
                </button>
                <button class="filter-btn" data-filter="weekly">
                    üìÖ Semanal
                </button>
                <button class="filter-btn" data-filter="monthly">
                    üóìÔ∏è Mensual
                </button>
            </div>

            <!-- Contenedor del p√≥dium -->
            <div class="ranking-podium-container fade-in-scroll">
                <div class="ranking-podium">
                    <!-- Segundo puesto (izquierda) -->
                    <div class="podium-place podium-place--2nd">
                        <div class="podium-avatar">GS</div>
                        <div class="podium-name">GreenSavior</div>
                        <div class="podium-score">128 Patitos</div>
                        <div class="podium-number">2</div>
                    </div>
                    
                    <!-- Primer puesto (centro) -->
                    <div class="podium-place podium-place--1st">
                        <div class="podium-avatar">EW</div>
                        <div class="podium-name">EcoWarrior42</div>
                        <div class="podium-score">142 Patitos</div>
                        <div class="podium-number">1</div>
                    </div>
                    
                    <!-- Tercer puesto (derecha) -->
                    <div class="podium-place podium-place--3rd">
                        <div class="podium-avatar">CH</div>
                        <div class="podium-name">ClimateHero</div>
                        <div class="podium-score">119 Patitos</div>
                        <div class="podium-number">3</div>
                    </div>
                </div>
            </div>

            <div class="ranking-table-container fade-in-scroll">
                <table class="ranking-table">
                    <thead>
                        <tr>
                            <th scope="col" class="ranking-position">#</th>
                            <th scope="col">Rescatador</th>
                            <th scope="col">Puntuaci√≥n</th>
                        </tr>
                    </thead>
                    <tbody id="ranking-body">
                        <!-- Los datos se cargar√°n con JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="action-buttons fade-in-scroll">
                <a href="index.html" class="btn btn--secondary">‚Üê Volver al Inicio</a>
                <a href="mapa.html" class="btn btn--primary">Ir al Mapa de Rescate ü¶Ü</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container footer-content">
            <img src="patitologo1_circulo.png" alt="Logo Patitos en Peligro" class="footer-logo">
            <div class="footer-links">
                <a href="index.html" class="footer-link">Inicio</a>
                <a href="mapa.html" class="footer-link">Mapa</a>
                <a href="ranking.html" class="footer-link">Ranking</a>
                <a href="agradecimientos.html" class="footer-link">Agradecimientos</a>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Patitos en Peligro - Universidad de Alicante</p>
            </div>
        </div>
    </footer>

    <script>
        const rankingData = {
            global: [
                { position: 1, name: "EcoWarrior42", avatar: "EW", ducks: 142, isCurrentUser: false },
                { position: 2, name: "GreenSavior", avatar: "GS", ducks: 128, isCurrentUser: false },
                { position: 3, name: "ClimateHero", avatar: "CH", ducks: 119, isCurrentUser: false },
                { position: 4, name: "PatitoProtector", avatar: "PP", ducks: 105, isCurrentUser: true },
                { position: 5, name: "EcoExplorer", avatar: "EE", ducks: 98, isCurrentUser: false },
                { position: 6, name: "NatureLover", avatar: "NL", ducks: 92, isCurrentUser: false },
                { position: 7, name: "PlanetGuardian", avatar: "PG", ducks: 87, isCurrentUser: false },
                { position: 8, name: "SustGamer", avatar: "SG", ducks: 83, isCurrentUser: false },
                { position: 9, name: "EcoAdv", avatar: "EA", ducks: 79, isCurrentUser: false },
                { position: 10, name: "GreenGamer", avatar: "GG", ducks: 75, isCurrentUser: false }
            ],
            weekly: [
                { position: 1, name: "PatitoProtector", avatar: "PP", ducks: 25, isCurrentUser: true },
                { position: 2, name: "EcoWarrior42", avatar: "EW", ducks: 22, isCurrentUser: false },
                { position: 3, name: "GreenSavior", avatar: "GS", ducks: 20, isCurrentUser: false },
                { position: 4, name: "NatureLover", avatar: "NL", ducks: 18, isCurrentUser: false },
                { position: 5, name: "ClimateHero", avatar: "CH", ducks: 16, isCurrentUser: false },
                { position: 6, name: "EcoExplorer", avatar: "EE", ducks: 15, isCurrentUser: false },
                { position: 7, name: "PlanetGuardian", avatar: "PG", ducks: 14, isCurrentUser: false },
                { position: 8, name: "WaterWarrior", avatar: "WW", ducks: 12, isCurrentUser: false },
                { position: 9, name: "SustGamer", avatar: "SG", ducks: 10, isCurrentUser: false },
                { position: 10, name: "BioGuardian", avatar: "BG", ducks: 8, isCurrentUser: false }
            ],
            monthly: [
                { position: 1, name: "EcoWarrior42", avatar: "EW", ducks: 52, isCurrentUser: false },
                { position: 2, name: "GreenSavior", avatar: "GS", ducks: 48, isCurrentUser: false },
                { position: 3, name: "PatitoProtector", avatar: "PP", ducks: 45, isCurrentUser: true },
                { position: 4, name: "ClimateHero", avatar: "CH", ducks: 42, isCurrentUser: false },
                { position: 5, name: "NatureLover", avatar: "NL", ducks: 38, isCurrentUser: false },
                { position: 6, name: "PlanetGuardian", avatar: "PG", ducks: 35, isCurrentUser: false },
                { position: 7, name: "EcoExplorer", avatar: "EE", ducks: 32, isCurrentUser: false },
                { position: 8, name: "EcoAdv", avatar: "EA", ducks: 30, isCurrentUser: false },
                { position: 9, name: "SustGamer", avatar: "SG", ducks: 28, isCurrentUser: false },
                { position: 10, name: "GreenGamer", avatar: "GG", ducks: 25, isCurrentUser: false }
            ]
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (menuToggle && navMenu) {
                menuToggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
            }
            
            // Close mobile menu when clicking on a link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    menuToggle.classList.remove('active');
                    navMenu.classList.remove('active');
                });
            });

            // Inicializar botones de filtro
            const filters = document.querySelectorAll('.filter-btn');
            filters.forEach(filter => {
                filter.addEventListener('click', function() {
                    filters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    updateRanking(this.dataset.filter);
                });
            });
            
            // Scroll animations
            const fadeElements = document.querySelectorAll('.fade-in-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            fadeElements.forEach(el => observer.observe(el));
            
            // Inicializar con el ranking global
            updateRanking('global');
        });

        function updateRanking(filterType) {
            const data = rankingData[filterType] || rankingData['global'];
            const tbody = document.getElementById('ranking-body');
            tbody.innerHTML = '';
            
            // Renderizar tabla
            data.forEach(player => {
                const row = document.createElement('tr');
                if (player.isCurrentUser) {
                    row.classList.add('current-user');
                }
                
                // Clase para posiciones especiales
                if (player.position <= 3) {
                    row.classList.add(`position-${player.position}-row`);
                }
                
                // Determinar icono de recompensa
                let rewardIcon = '';
                if (player.position === 1) rewardIcon = '<span class="reward-icon reward-icon--1st">ü•á</span>';
                else if (player.position === 2) rewardIcon = '<span class="reward-icon reward-icon--2nd">ü•à</span>';
                else if (player.position === 3) rewardIcon = '<span class="reward-icon reward-icon--3rd">ü•â</span>';
                
                row.innerHTML = `
                    <td class="ranking-position position-${player.position}">${player.position}</td>
                    <td class="player-cell">
                        <div class="player-avatar-small">${player.avatar}</div>
                        <span class="player-name">${player.name}</span>
                        ${rewardIcon}
                    </td>
                    <td>
                        <div class="ducks-cell">
                            <span class="ducks-icon">ü¶Ü</span>
                            <span>${player.ducks}</span>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Actualizar p√≥dium
            const top3 = data.filter(p => p.position <= 3);
            if(top3.length >= 3) {
                // Orden correcto: 2nd, 1st, 3rd (como est√° en el HTML)
                updatePodiumPlace(0, top3.find(p => p.position === 2)); // Izquierda
                updatePodiumPlace(1, top3.find(p => p.position === 1)); // Centro
                updatePodiumPlace(2, top3.find(p => p.position === 3)); // Derecha
            }
        }

        function updatePodiumPlace(index, player) {
            const podiums = document.querySelectorAll('.podium-place');
            if(podiums[index] && player) {
                podiums[index].querySelector('.podium-name').textContent = player.name;
                podiums[index].querySelector('.podium-score').textContent = player.ducks + ' Patitos';
                podiums[index].querySelector('.podium-avatar').textContent = player.avatar;
            }
        }
    </script>
</body>
</html>
