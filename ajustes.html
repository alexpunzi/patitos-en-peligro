<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajustes - Patitos en Peligro</title>
    <link rel="icon" type="image/x-icon" href="ico_circulo.ico">
    
    <!-- CSS Unificado -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/pages.css">
</head>
<body>
    <!-- Encabezado -->
    <header class="header">
        <div class="container header-container">
            <div class="logo-container">
                <img src="patitologo1_circulo.png" alt="Logo de Patitos en Peligro" class="logo">
                <div class="logo-text">Patitos en Peligro</div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Inicio</a></li>
                    <li><a href="patitos_integrantes.html" class="nav-link">Sobre Nosotros</a></li>
                    <li><a href="mapa.html" class="nav-link">Mapa</a></li>
                    <li><a href="ranking.html" class="nav-link">Ranking</a></li>
                    <li><a href="iniciarSesion.html" class="btn btn-secondary">Iniciar Sesi√≥n</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="main-content">
        <div class="container">
            <div class="settings-container fade-in-up">
                <h1 class="section-title">Ajustes del Juego</h1>
                
                <!-- Configuraci√≥n de Audio -->
                <div class="setting-group">
                    <h3>üéµ Configuraci√≥n de Audio</h3>
                    
                    <div class="setting-item">
                        <span class="setting-label">Sonido</span>
                        <label class="switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Volumen</span>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <input type="range" class="range-slider" id="volumeSlider" min="0" max="100" value="80">
                            <span class="slider-value" id="volumeValue">80%</span>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">M√∫sica de fondo</span>
                        <label class="switch">
                            <input type="checkbox" id="musicToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Configuraci√≥n de Gr√°ficos -->
                <div class="setting-group">
                    <h3>üéÆ Configuraci√≥n de Gr√°ficos</h3>
                    
                    <div class="setting-item">
                        <span class="setting-label">Calidad gr√°fica</span>
                        <select id="graphicsQuality" class="form-control">
                            <option value="low">Baja</option>
                            <option value="medium" selected>Media</option>
                            <option value="high">Alta</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Efectos de part√≠culas</span>
                        <label class="switch">
                            <input type="checkbox" id="particlesToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Configuraci√≥n de Tema -->
                <div class="setting-group">
                    <h3>üé® Tema de la aplicaci√≥n</h3>
                    
                    <div class="theme-selector">
                        <div class="theme-option active" data-theme="light">
                            üåû Claro
                        </div>
                        <div class="theme-option" data-theme="dark">
                            üåô Oscuro
                        </div>
                        <div class="theme-option" data-theme="blue">
                            üîµ Azul
                        </div>
                    </div>
                </div>

                <!-- Configuraci√≥n de Juego -->
                <div class="setting-group">
                    <h3>‚öôÔ∏è Configuraci√≥n de Juego</h3>
                    
                    <div class="setting-item">
                        <span class="setting-label">Dificultad</span>
                        <select id="difficulty" class="form-control">
                            <option value="easy">F√°cil</option>
                            <option value="medium" selected>Normal</option>
                            <option value="hard">Dif√≠cil</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Vibraci√≥n</span>
                        <label class="switch">
                            <input type="checkbox" id="vibrationToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="guardarAjustes()">Guardar Cambios</button>
                    <button class="btn btn-secondary" onclick="restablecerAjustes()">Restablecer</button>
                </div>
            </div>
            
            <!-- Bot√≥n para Volver a la P√°gina Principal-->
            <div class="button-container fade-in-up">
                <a href="index.html" class="btn btn-primary">Volver a la P√°gina Principal</a>
            </div>
        </div>
    </main>

    <!-- Pie de p√°gina -->
    <footer class="footer">
        <div class="container footer-content">
            <img src="patitologo1_circulo.png" alt="Logo de Patitos en Peligro" class="footer-logo">
            <div class="footer-links">
                <a href="index.html" class="footer-link">Inicio</a>
                <a href="patitos_integrantes.html" class="footer-link">Sobre Nosotros</a>
                <a href="agradecimientos.html" class="footer-link">Agradecimientos</a>
                <a href="mapa.html" class="footer-link">Mapa</a>
                <a href="ranking.html" class="footer-link">Ranking</a>
                <a href="ajustes.html" class="footer-link">Ajustes</a>
                <a href="iniciarSesion.html" class="footer-link">Iniciar Sesi√≥n</a>
            </div>
            <div class="copyright">
                <p>Proyecto realizado para Sistemas Multimedia - Universidad de Alicante</p>
                <p>Grupo 41 - Patitos en Peligro</p>
            </div>
        </div>
    </footer>

    <script>
        // Funcionalidad para el control de volumen
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeValue = document.getElementById('volumeValue');
        
        volumeSlider.addEventListener('input', function() {
            volumeValue.textContent = this.value + '%';
            
            // Actualizar variable CSS para la barra de progreso visual
            document.documentElement.style.setProperty('--slider-progress', this.value + '%');
        });

        // Funcionalidad para los temas
        const themeOptions = document.querySelectorAll('.theme-option');
        themeOptions.forEach(option => {
            option.addEventListener('click', function() {
                themeOptions.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                
                // Aplicar tema (simulaci√≥n)
                const theme = this.getAttribute('data-theme');
                document.body.setAttribute('data-theme', theme);
            });
        });

        // Funciones para guardar y restablecer ajustes
        function guardarAjustes() {
            const ajustes = {
                sonido: document.getElementById('soundToggle').checked,
                volumen: document.getElementById('volumeSlider').value,
                musica: document.getElementById('musicToggle').checked,
                graficos: document.getElementById('graphicsQuality').value,
                particulas: document.getElementById('particlesToggle').checked,
                dificultad: document.getElementById('difficulty').value,
                vibracion: document.getElementById('vibrationToggle').checked,
                tema: document.querySelector('.theme-option.active').dataset.theme
            };
            
            // Guardar en localStorage
            localStorage.setItem('ajustesPatitos', JSON.stringify(ajustes));
            
            // Mostrar notificaci√≥n de √©xito
            mostrarNotificacion('‚úÖ Ajustes guardados correctamente', 'success');
        }

        function restablecerAjustes() {
            if (confirm('¬øEst√°s seguro de que quieres restablecer todos los ajustes a los valores predeterminados?')) {
                document.getElementById('soundToggle').checked = true;
                document.getElementById('volumeSlider').value = 80;
                document.getElementById('volumeValue').textContent = '80%';
                document.getElementById('musicToggle').checked = true;
                document.getElementById('graphicsQuality').value = 'medium';
                document.getElementById('particlesToggle').checked = true;
                document.getElementById('difficulty').value = 'medium';
                document.getElementById('vibrationToggle').checked = false;
                
                // Restablecer tema
                themeOptions.forEach(opt => opt.classList.remove('active'));
                document.querySelector('[data-theme="light"]').classList.add('active');
                document.body.removeAttribute('data-theme');
                
                // Actualizar variable CSS
                document.documentElement.style.setProperty('--slider-progress', '80%');
                
                mostrarNotificacion('üîÑ Ajustes restablecidos a los valores predeterminados', 'success');
            }
        }

        // Funci√≥n para mostrar notificaciones
        function mostrarNotificacion(mensaje, tipo = 'success') {
            // Crear elemento de notificaci√≥n
            const notificacion = document.createElement('div');
            notificacion.className = `notification ${tipo}`;
            notificacion.textContent = mensaje;
            
            // Agregar al documento
            document.body.appendChild(notificacion);
            
            // Mostrar con animaci√≥n
            setTimeout(() => notificacion.classList.add('show'), 100);
            
            // Ocultar despu√©s de 3 segundos
            setTimeout(() => {
                notificacion.classList.remove('show');
                setTimeout(() => notificacion.remove(), 300);
            }, 3000);
        }

        // Cargar ajustes guardados al cargar la p√°gina
        window.addEventListener('load', function() {
            const ajustesGuardados = localStorage.getItem('ajustesPatitos');
            if (ajustesGuardados) {
                const ajustes = JSON.parse(ajustesGuardados);
                
                // Aplicar ajustes guardados
                document.getElementById('soundToggle').checked = ajustes.sonido;
                document.getElementById('volumeSlider').value = ajustes.volumen;
                document.getElementById('volumeValue').textContent = ajustes.volumen + '%';
                document.getElementById('musicToggle').checked = ajustes.musica;
                document.getElementById('graphicsQuality').value = ajustes.graficos;
                document.getElementById('particlesToggle').checked = ajustes.particulas;
                document.getElementById('difficulty').value = ajustes.dificultad;
                document.getElementById('vibrationToggle').checked = ajustes.vibracion;
                
                // Aplicar tema guardado
                themeOptions.forEach(opt => opt.classList.remove('active'));
                const temaGuardado = document.querySelector(`[data-theme="${ajustes.tema}"]`);
                if (temaGuardado) {
                    temaGuardado.classList.add('active');
                    document.body.setAttribute('data-theme', ajustes.tema);
                }
                
                // Actualizar variable CSS
                document.documentElement.style.setProperty('--slider-progress', ajustes.volumen + '%');
            }
            
            // Animaci√≥n de aparici√≥n al hacer scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            const animatedElements = document.querySelectorAll('.fade-in-up');
            animatedElements.forEach(function(element) {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(element);
            });
        });
    </script>
</body>
</html>
